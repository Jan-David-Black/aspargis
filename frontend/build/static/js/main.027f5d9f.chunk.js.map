{"version":3,"sources":["auth/AuthApolloProvider.js","util/serviceWorkerRegistration.js","util/reportWebVitals.js","assets/damm.svg","assets/thermometer.svg","components/Damm.js","components/SGroup.js","components/BottomRightFab.js","components/QrAddDialog.js","components/Overview.js","components/ShareDialog.js","components/Details.js","util/pushSubscription.js","components/Profile.js","App.js","components/Loading.js","components/LoginButton.js","components/ProfileButton.js","components/Header.js","index.js"],"names":["AuthApolloProvider","props","useAuth0","isAuthenticated","getAccessTokenSilently","isLoading","useState","accessToken","setAccessToken","client","setClient","httpLink","createHttpLink","uri","process","useEffect","getToken","a","audience","scope","aT","console","log","message","Promise","resolve","setTimeout","authLink","setContext","_","headers","token","authorization","ApolloClient","link","concat","cache","InMemoryCache","LinearProgress","ApolloProvider","children","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","error","checkValidServiceWorker","fetch","response","contentType","get","status","indexOf","ready","unregister","reload","_rect","_rect2","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgDamm","_ref","svgRef","title","titleId","viewBox","xmlns","ref","id","d","fill","style","strokeWidth","x","y","width","height","fontFamily","fontSize","letterSpacing","lineHeight","shapeInside","whiteSpace","wordSpacing","xmlSpace","ForwardRef","SvgThermometer","transform","opacity","Damm","temps","temp","map","idx","className","toFixed","pos","type","Component","SGroup","group","Sensors","forEach","sensor","Correction_Sensorpositions","Type","charAt","Sensor_Values","Value","to","Position","Spargelsorten","Name","Transition","React","forwardRef","Slide","direction","BottomRightFab","Fab","onClick","handleClickOpen","color","position","bottom","right","Dialog","fullScreen","open","onClose","handleClose","TransitionComponent","Grid","container","justifyContent","item","IconButton","Box","display","alignItems","m","ACQUIRE_SENSOR","gql","QrAddDialog","useMutation","refetchQueries","acquireSensor","setOpen","delay","onError","onScan","result","isNaN","data","res","variables","SGroupID","substring","GROUPS_OVERVIEW","Overview","useQuery","loading","overview","SGroups","SHARE_SENSOR","REMOVE_SHARE","FIND_USER","ShareDialog","email","setEmail","shares","setShares","user","shareSensor","removeShare","handleDelete","share","filter","s","Chip","label","onDelete","TextField","value","onChange","e","variant","Button","disabled","Users","some","user_id","sub","Chart","zoomPlugin","PLOTABLE_DATA","zoomOptions","limits","min","max","minRange","pan","enabled","mode","zoom","wheel","speed","pinch","colors","Details","useParams","tab","setTab","sensors","SGroups_by_pk","owned","Owner","userByUser","User","sx","minHeight","Tabs","event","newValue","Tab","TabPanel","index","AvgPlot","FullPlot","BatPlot","Alarm","alarm","find","SET_OWNED_ALARM","SET_SHARED_ALARM","colorOptions","backgroundColor","borderColor","setAlarm","setOwnedAlarm","setSharedAlarm","saveAlarm","toSave","inputProps","step","InputLabelProps","shrink","chartJSData","labels","datasets","count","includes","ds","Daily","humanReadableTime","moment","date_trunc","push","options","maintainAspectRatio","normalized","elements","point","radius","scales","plugins","Timestamp","other","role","hidden","margin","urlBase64ToUint8Array","base64String","base64","repeat","replace","rawData","atob","outputArray","Uint8Array","charCodeAt","SUB_MUTATION","Profile","subMutate","sw","pushManager","getSubscription","new","subscribe","userVisibleOnly","applicationServerKey","src","picture","alt","name","App","path","Loading","CircularProgress","LoginButton","clicked","setClicked","loginWithRedirect","withRouter","anchorEl","setAnchorEl","logout","size","currentTarget","Avatar","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MenuItem","history","returnTo","origin","Header","AppBar","Toolbar","Typography","component","flexGrow","ReactDOM","render","domain","clientId","redirectUri","document","getElementById","URL","href","addEventListener","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.027f5d9f.chunk.js","sourcesContent":["import React , { useEffect, useState} from 'react';\nimport { ApolloClient, createHttpLink, InMemoryCache, ApolloProvider } from '@apollo/client';\nimport { setContext } from '@apollo/client/link/context';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport {LinearProgress} from \"@mui/material\";\n\n\nfunction AuthApolloProvider (props){\n    const {isAuthenticated, getAccessTokenSilently, isLoading} = useAuth0();\n    const [accessToken, setAccessToken] = useState();\n    const [client, setClient] = useState();\n\n    const httpLink = createHttpLink({\n        uri: process.env.REACT_APP_HASURA_API,\n    });\n\n    useEffect(() => {\n        const getToken = async () => {  \n            try {\n                const aT = await getAccessTokenSilently({\n                    audience: `https://aspargis.de`,\n                    scope: \"read:current_user\",\n                });\n                setAccessToken(aT);\n            } catch (e) {\n                console.log(\"error fetching jwt:\", e.message);\n                await new Promise(resolve => setTimeout(resolve, 500))\n                try {\n                  const aT = await getAccessTokenSilently({\n                    audience: `https://aspargis.de`,\n                    scope: \"read:current_user\",\n                  });\n                  setAccessToken(aT);\n                } catch (e) {\n                  console.log(\"failed again\");\n                }\n            }\n        };\n        getToken(); // eslint-disable-next-line\n    }, [isAuthenticated]);\n\n    useEffect(() => {\n        const authLink = setContext((_, { headers }) => {\n          const token = accessToken;\n          if (token) {\n            return {\n              headers: {\n                ...headers,\n                authorization: `Bearer ${token}`,\n              },\n            };\n          } else {\n            return {\n              headers: {\n                ...headers,\n              },\n            };\n          }\n        });\n    \n        const client = new ApolloClient({\n          link: authLink.concat(httpLink),\n          cache: new InMemoryCache(),\n        });\n        setClient(client); // eslint-disable-next-line\n      }, [accessToken]);\n\n    if (isLoading) {\n      return <LinearProgress/>;\n    }\n\n    if(isAuthenticated&&accessToken){\n        return (\n            <ApolloProvider client={client}> \n                {props.children}\n            </ApolloProvider>\n        )\n    }\n    return <></>\n}\n    \nexport default AuthApolloProvider;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) { //process.env.NODE_ENV === 'production' && \n  if ('serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', async () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(async (registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","var _rect, _rect2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDamm(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 500 500\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m518.27 402.33v-1.2s-214.03-8.7751-260.43-26.575c-119.53-45.6-146.16-182.35-202.75-195.69-43.121-13.3-30.439-10.876-66.547-10.876v350.25h529.73z\",\n    fill: \"#707272\",\n    style: {\n      fill: \"#9c9e9e\",\n      strokeWidth: 1.028\n    }\n  }), _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: -559,\n    y: -298,\n    width: 0,\n    height: 0,\n    fill: \"#707272\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: -34.3,\n    y: 135,\n    width: 0,\n    height: 0,\n    fill: \"#21B469\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m36.699 110.2-17.699 17 17.699 16.9h0.17578l6.4258 289 12.699 30.6 12.6-31.799 4.0605-288.33 17.24-16.367-17.801-17h-35.4z\",\n    style: {\n      fill: \"#578a1e\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m152.01 112.32h81.829v65.767h-81.829z\",\n    style: {\n      fill: \"none\",\n      strokeWidth: 1.6907\n    }\n  }), /*#__PURE__*/React.createElement(\"text\", {\n    style: {\n      fontFamily: \"sans-serif\",\n      fontSize: 40,\n      letterSpacing: 0,\n      lineHeight: 1.25,\n      shapeInside: \"url(#rect2371)\",\n      whiteSpace: \"pre\",\n      wordSpacing: 0\n    },\n    xmlSpace: \"preserve\"\n  }));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDamm);\nexport default __webpack_public_path__ + \"static/media/damm.32997c4c.svg\";\nexport { ForwardRef as ReactComponent };","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgThermometer(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"7.8643mm\",\n    height: \"18.357mm\",\n    viewBox: \"0 0 7.8643 18.357\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(-104.39 -120.1)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"matrix(.26458 0 0 .26458 67.644 90.982)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m158.2 137.35v20.796c0 0.33814 0.16907 0.50721 0.33814 0.84535 1.3526 1.1835 2.1979 2.536 2.8742 4.2268 0.33814 0.84535 0.50721 1.5216 0.67628 2.367 0.16907 1.1835 0.16907 2.367 0.16907 3.5505-0.16907 1.0144-0.33814 2.0288-0.84535 3.0433-0.67628 1.6907-1.8598 3.2123-3.2123 4.3958-0.84535 0.67628-1.8598 1.3526-2.8742 1.8598-0.67628 0.33814-1.3526 0.50721-2.1979 0.67628-0.84535 0.33814-1.8598 0.33814-2.8742 0.33814-0.67628 0-1.5216-0.16907-2.1979-0.33814-0.50721-0.16907-1.0144-0.16907-1.5216-0.50721-1.0144-0.33814-1.8598-0.84535-2.7051-1.3526-1.0144-0.67628-1.8598-1.5216-2.7051-2.536-0.67628-0.84535-1.1835-1.6907-1.5216-2.7051-0.67628-1.6907-0.84535-3.3814-0.67628-5.2412 0.16907-1.0144 0.33814-1.8598 0.67628-2.8742s0.84535-2.0288 1.5216-2.8742c0.50721-0.67628 1.0144-1.3526 1.6907-1.8598 0.16907-0.16907 0.16907-0.33814 0.16907-0.50721v-41.084c0-1.8598 0.50721-3.5505 1.8598-4.903 0.67628-0.84535 1.6907-1.5216 2.7051-2.0288 1.3526-0.50721 2.7051-0.67628 4.0577-0.50721 1.0144 0.16907 1.8598 0.50721 2.7051 1.0144 1.5216 0.84535 2.536 2.1979 3.0433 3.7195 0.16907 0.67628 0.33814 1.1835 0.33814 1.8598v0.84535c0.50721 6.4247 0.50721 13.187 0.50721 19.781zm-3.2123 1.1835v-21.134c0-1.0144-0.33814-1.8598-0.84535-2.7051-0.67628-1.0144-1.6907-1.5216-2.8742-1.6907-0.50721-0.16907-1.1835 0-1.6907 0.16907-0.67628 0.16907-1.1835 0.50721-1.6907 1.1835-0.50721 0.50721-0.84535 1.1835-1.0144 1.8598-0.16907 0.50721-0.16907 0.84535-0.16907 1.3526v42.098c0 0.50721-0.16907 0.84535-0.67628 1.1835-0.84535 0.50721-1.5216 1.1835-2.0288 2.0288-0.67628 1.0144-1.1835 2.0288-1.3526 3.2123-0.16907 0.67628-0.16907 1.3526-0.16907 2.0288 0.16907 0.67628 0.16907 1.3526 0.33814 2.0288 0.33814 0.84535 0.67628 1.6907 1.3526 2.367 0.67628 0.84535 1.5216 1.6907 2.536 2.1979 0.84535 0.50721 1.8598 0.84535 2.8742 1.0144 1.1835 0.16907 2.367 0 3.3814-0.33814s1.8598-0.84535 2.7051-1.5216c1.1835-1.0144 2.1979-2.1979 2.7051-3.7195 0.33814-0.84535 0.50721-1.8598 0.50721-2.7051 0-0.67628-0.16907-1.3526-0.33814-2.0288-0.16907-0.84535-0.67628-1.6907-1.0144-2.536-0.67628-1.0144-1.5216-1.8598-2.536-2.536-0.16907-0.16907-0.33814-0.33814-0.33814-0.50721v-0.50721c0.33814-6.7628 0.33814-13.695 0.33814-20.796z\",\n    style: {\n      opacity: 0.95402,\n      strokeWidth: 1.6907\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m168.51 135.32c0.16907 0.50721 0 1.0144 0 1.6907h-7.7772c-0.50721 0-0.50721 0-0.50721-0.50721v-0.84535c0-0.33814 0-0.33814 0.33814-0.33814h7.6082z\",\n    style: {\n      opacity: 0.95402,\n      strokeWidth: 1.6907\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m160.23 145.97v-1.3526c0-0.16907 0.16907-0.33814 0.33814-0.33814h7.6082c0.33814 0 0.33814 0 0.33814 0.33814v1.1835c-0.33814 0.33814-7.7772 0.33814-8.2844 0.16907z\",\n    style: {\n      opacity: 0.95402,\n      strokeWidth: 1.6907\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m164.46 139.88v1.6907h-3.7195c-0.33814 0-0.50721 0-0.50721-0.50721v-0.84535c0-0.33814 0-0.33814 0.33814-0.33814h1.6907z\",\n    style: {\n      opacity: 0.95402,\n      strokeWidth: 1.6907\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m164.46 132.45h-3.7195c-0.16907 0-0.33814-0.16907-0.33814-0.33814v-1.1835c0.33814-0.16907 3.5505-0.16907 4.0577 0z\",\n    style: {\n      opacity: 0.95402,\n      strokeWidth: 1.6907\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m152.45 147.49v14.202c0 0.16907 0.16907 0.33814 0.33814 0.50721 1.0144 0.33814 1.8598 1.0144 2.536 1.6907 0.50721 0.67628 0.84535 1.3526 1.0144 2.0288 0.16907 0.84535 0.33814 1.8598 0.16907 2.7051-0.33814 1.5216-1.1835 2.8742-2.536 3.7195-0.67628 0.33814-1.3526 0.67628-2.0288 0.84535-0.50721 0.16907-1.0144 0.16907-1.5216 0.16907-1.1835-0.16907-2.1979-0.50721-3.2123-1.1835-0.84535-0.67628-1.3526-1.3526-1.6907-2.1979-0.16907-0.50721-0.50721-1.1835-0.50721-1.6907 0-0.84535 0-1.5216 0.16907-2.1979 0.33814-0.84535 0.67628-1.5216 1.1835-2.1979 0.67628-0.67628 1.5216-1.1835 2.367-1.5216 0.16907 0 0.33814-0.16907 0.33814-0.33814v-28.235c0-0.50721 0-0.84535 0.33814-1.1835 0.50721-0.67628 1.1835-0.67628 1.8598-0.50721 0.50721 0.16907 1.0144 0.67628 1.1835 1.3526v0.84535z\",\n    style: {\n      opacity: 0.95402,\n      strokeWidth: 1.6907\n    }\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgThermometer);\nexport default __webpack_public_path__ + \"static/media/thermometer.7bdd3c0f.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport { ReactComponent as Template } from '../assets/damm.svg'\nimport { ReactComponent as Thermometer } from '../assets/thermometer.svg'\nimport '../assets/damm.css'\nclass Damm extends Component {\n    render() {\n        var temps = this.props.temp.map((temp, idx)=>{\n            if(idx){\n                return <p key={idx} className={\"damm-elem damm-temp damm-temp\"+idx}>{temp.toFixed(2)}Â°C</p>\n            }else{return null}\n        });\n        return (\n            <div className=\"damm-container\">\n                <Template className=\"damm-elem damm-bg\"/>\n\n                <h3 className=\"damm-elem damm-name\">{this.props.pos}</h3>\n                <h4 className=\"damm-elem damm-sub\">{this.props.type}</h4>\n\n                <Thermometer className=\"damm-elem damm-thermo damm-thermo1\"/>\n                <Thermometer className=\"damm-elem damm-thermo damm-thermo2\"/>\n                <Thermometer className=\"damm-elem damm-thermo damm-thermo3\"/>\n                <Thermometer className=\"damm-elem damm-thermo damm-thermo4\"/>\n                <p className=\"damm-elem damm-label damm-label1\">0<br/>cm</p>\n                <p className=\"damm-elem damm-label damm-label2\">-5<br/>cm</p>\n                <p className=\"damm-elem damm-label damm-label3\">-25<br/>cm</p>\n                <p className=\"damm-elem damm-label damm-label4\">-40<br/>cm</p>\n\n                {temps}\n                \n            </div>\n        );\n    }\n}\n\nexport default Damm;\n    ","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Damm from './Damm';\n\nclass SGroup extends Component {\n  render() {\n    var temps = [0,0,0,0];\n    this.props.group.Sensors.forEach((sensor) => {\n      let pos = sensor.Correction_Sensorpositions[0]?.pos\n      pos = pos ? pos : sensor.Type.charAt(4);\n      temps[pos] = sensor.Sensor_Values[0].Value;\n    });\n\n    return (\n      <Link to={`/details/${this.props.group.SGroup}`}>\n        <Damm \n          temp={temps} \n          pos={this.props.group.Position} \n          type={this.props.group.Spargelsorten?.Name}\n        />\n      </Link>\n    );\n  }\n}\n\nexport default SGroup;\n","import React from \"react\";\nimport {Fab, Slide, IconButton, Dialog, Grid, Box} from \"@mui/material\";\nimport AddIcon from '@mui/icons-material/Add';\nimport CloseIcon from '@mui/icons-material/Close';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function BottomRightFab(props) {\n  return (\n    <>\n      <Fab onClick={props.handleClickOpen} color='primary' style={{\n        position: 'fixed',\n        bottom: 20,\n        right: 20,\n      }}>\n        <AddIcon />\n      </Fab>\n\n      <Dialog fullScreen open={props.open} onClose={props.handleClose} TransitionComponent={Transition}>\n        <Grid container direction=\"row\" justifyContent=\"center\">\n          <Grid item>  \n            <IconButton color=\"inherit\" onClick={props.handleClose} aria-label=\"close\">\n              <CloseIcon />\n            </IconButton>\n          </Grid>\n        </Grid>\n        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"center\" m={4}>\n          {props.children}\n        </Box>\n      </Dialog>\n    </>\n  );\n}","import React from \"react\";\nimport QrReader from 'react-web-qr-reader';\nimport BottomRightFab from './BottomRightFab';\nimport { useMutation, gql } from \"@apollo/client\";\n\nconst ACQUIRE_SENSOR = gql`\nmutation acquireSensor($SGroupID: Int!) {\n  update_SGroups(where:{SGroup:{_eq:$SGroupID}}){\n    affected_rows\n  }\n}\n`\n\nfunction QrAddDialog(props) {\n  const [acquireSensor] = useMutation(ACQUIRE_SENSOR, {refetchQueries:[\"Overview\"]});\n  const delay = 500;\n\n  const previewStyle = {\n    height: 150,\n    width: 400,\n  };\n\n  const handleScan = (result) => {\n    console.log(\"Found\",{result});\n    if(!isNaN(result.data)){\n      const res=result.data;\n      acquireSensor({variables: {SGroupID: res.substring(res.length-8)}});\n    }else{\n      console.error(\"Non numeric values are invalid\");\n    }\n    setOpen(false);\n  };\n\n  const handleError = (error) => {\n    console.log(error);\n  };\n\n  const [open, setOpen] = React.useState(false);\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n\n  return (\n    <BottomRightFab handleClickOpen={handleClickOpen} handleClose={handleClose} open={open}>\n      <QrReader\n        delay={delay}\n        style={previewStyle}\n        onError={handleError}\n        onScan={handleScan}\n      />\n    </BottomRightFab>\n  );\n}\n\nexport default QrAddDialog","import React from 'react';\nimport { useQuery, gql } from \"@apollo/client\";\nimport SGroup from './SGroup.js';\nimport '../assets/fab.css';\nimport QrAddDialog from './QrAddDialog.js';\nimport {LinearProgress} from \"@mui/material\";\n\nconst GROUPS_OVERVIEW = gql`\nquery Overview {\n  SGroups {\n    SGroup\n    Position\n    Spargelsorten {\n      Name\n    }\n    Sensors {\n      Correction_Sensorpositions {\n        pos\n      }\n      Type\n      Sensor_Values(limit: 1, order_by: {Timestamp: desc}) {\n        Timestamp\n        Value\n      }\n    }\n  }\n}\n`\n\nfunction Overview() {\n  const { loading, error, data } = useQuery(GROUPS_OVERVIEW);\n  if (error) {\n    console.error(error);\n    return \"Error\";\n  }\n  if (loading) {\n    return <LinearProgress/>\n  }\n\n  console.log({ data });\n  const overview = data.SGroups.map((group) => <SGroup key={group.SGroup} group={group} />);\n  return (\n    <div className=\"overview-container\">\n      {overview}\n      <QrAddDialog/>\n    </div>\n  );\n}\n\nexport default Overview;\n","import React, {useState} from \"react\";\nimport BottomRightFab from './BottomRightFab';\nimport {TextField, Button, Grid, Chip} from \"@mui/material\";\nimport { useQuery, useMutation, gql } from \"@apollo/client\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nconst SHARE_SENSOR = gql`\nmutation shareSensor($SGroupID: Int!, $user: String!) {\n  insert_share_one(object: {SGroup: $SGroupID, User: $user}, on_conflict: {constraint: share_pkey, update_columns: []}) {\n    __typename\n  }\n}`\n\nconst REMOVE_SHARE = gql`\nmutation unshareSensor($SGroupID: Int!, $user: String!) {\n  delete_share_by_pk(SGroup: $SGroupID, User: $user) {\n    __typename\n  }\n}`\n\nconst FIND_USER = gql`\nquery findUserID($email: String!) {\n  Users(where: {email: {_eq: $email}}) {\n    user_id\n  }\n}`\n\nfunction ShareDialog(props) {\n  const [email, setEmail] = useState(\"\");\n  const [shares, setShares] = useState(props.shares);\n  const [open, setOpen] = useState(false);\n  const {user} = useAuth0();\n  const [shareSensor] = useMutation(SHARE_SENSOR);\n  const [removeShare] = useMutation(REMOVE_SHARE);\n  const {loading, data} = useQuery(FIND_USER, {variables:{email:email}});\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const handleShare = () => {\n    const user = data.Users[0].user_id;\n    setShares([...shares, {email, user}]);\n    setEmail(\"\");\n    shareSensor({variables:{SGroupID:props.SGroupID, user}});\n  };\n  const handleDelete = (share) => () => {\n    removeShare({variables:{SGroupID:props.SGroupID, user:share.user}});\n    setShares(shares.filter((s)=>s.email!==share.email))\n  }\n  return (\n    <BottomRightFab handleClickOpen={handleClickOpen} handleClose={handleClose} open={open}>\n      <Grid container direction=\"column\">\n        <Grid item>\n          Shared with:\n        </Grid>\n        <Grid item>\n          {shares.map((share)=><Chip label={share.email} key={share.user} onDelete={handleDelete(share)} />)}\n        </Grid>\n        <Grid item>\n          <TextField value={email} onChange={(e)=>{setEmail(e.target.value)}} variant=\"standard\"/>\n        </Grid>\n        <Grid item>\n          <Button \n            disabled={\n              loading||\n              data.Users.length===0||\n              shares.some((share)=>share.email===email)||\n              data.Users[0].user_id===user.sub\n            } \n            onClick={handleShare}>\n            Share\n          </Button>\n        </Grid>\n      </Grid>\n    </BottomRightFab>\n  );\n}\n\nexport default ShareDialog","import React, { useState } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport zoomPlugin from 'chartjs-plugin-zoom';\nimport {Chart} from 'chart.js'\n\nimport { useQuery, useMutation, gql } from \"@apollo/client\";\nimport moment from 'moment';\nimport 'chartjs-adapter-moment';\nimport { useParams } from \"react-router-dom\";\nimport { Tab, Tabs, Box, LinearProgress, TextField, Button } from '@mui/material';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport ShareDialog from './ShareDialog';\n\nChart.register(zoomPlugin);\n\nconst PLOTABLE_DATA = gql`\nquery PlotData($SGroup: Int!) {\n  SGroups_by_pk(SGroup: $SGroup) {\n    Position\n    Sorte\n    Owner\n    Alarm\n    shares {\n      User\n      userByUser {\n        email\n      }\n      Alarm\n    }\n    Sensors {\n      Type\n      Correction_Sensorpositions {\n        pos\n      }\n      Daily {\n        avg\n        max\n        date_trunc\n      }\n      Sensor_Values{\n        Timestamp\n        Value\n      }\n    }\n  }\n}\n`\n\nconst zoomOptions = {\n  limits: {\n    x: {min: 'original', max: 'original', minRange: 86400},\n    y: {min: 'original', max: 'original', minRange: 10}\n  },\n  pan: {\n    enabled: true,\n    mode: 'x',\n  },\n  zoom: {\n    wheel: {\n      enabled: true,\n      speed: 0.5,\n    },\n    pinch: {\n      enabled: true\n    },\n    mode: 'x',\n  }\n};\n\nconst colors = ['rgb(80, 200, 130)', 'rgb(60, 160, 120)','rgb(40, 150, 210)', 'rgb(40, 118, 210)']\n\nfunction Details(props) {\n  let { SGroupID } = useParams();\n  const { loading, error, data } = useQuery(PLOTABLE_DATA, { variables: { SGroup: SGroupID } });\n  const [tab, setTab] = useState(0);\n  const { user } = useAuth0();\n\n  const handleChange = (event, newValue) => {\n    setTab(newValue);\n  };\n\n  if (!SGroupID) return (\"Something has gone wrong\")\n\n  if (error) {\n    console.error(error);\n    return \"Error\";\n  }\n  if (loading) {\n    return <LinearProgress/>;\n  }\n\n  const sensors = data.SGroups_by_pk.Sensors;\n  const owner = data.SGroups_by_pk.Owner;\n  const owned = owner === user.sub;\n\n  const shares = data.SGroups_by_pk.shares.map((share)=>({email:share.userByUser.email, user:share.User}))\n\n  return (\n    <Box sx={{ width: '100%', minHeight: \"80vh\" }}>\n      <Tabs value={tab} onChange={handleChange}>\n        <Tab label=\"Averages\" />\n        <Tab label=\"Min-Max\" />\n        <Tab label=\"Full\" />\n        <Tab label=\"Battery\" />\n        <Tab label=\"Alarm\" />\n      </Tabs>\n        <TabPanel value={tab} index={0}>\n          <AvgPlot sensors={sensors} />\n        </TabPanel>\n        <TabPanel value={tab} index={1}>\n          TODO\n        </TabPanel>\n        <TabPanel value={tab} index={2}>\n          <FullPlot sensors={sensors}/>\n        </TabPanel>\n        <TabPanel value={tab} index={3}>\n          <BatPlot sensors={sensors}/>\n        </TabPanel>\n        <TabPanel value={tab} index={4}>\n          <Alarm {...{owned, user, SGroupID}} alarm={\n            owned?\n              data.SGroups_by_pk.Alarm:\n              data.SGroups_by_pk.shares.find((share)=>share.User===user.sub).Alarm}/>\n        </TabPanel>\n        {owned ? \n          <>\n            <ShareDialog SGroupID={SGroupID} shares={shares}/> \n          </>\n        : \"shared with you\"}\n    </Box>);\n}\n\nexport default Details;\n\nconst SET_OWNED_ALARM=gql`\nmutation setOwnedAlarm($SGroup: Int!, $Alarm: float8!) {\n  update_SGroups_by_pk(pk_columns: {SGroup: $SGroup}, _set: {Alarm: $Alarm}) {\n    Alarm\n  }\n}\n`\n\nconst SET_SHARED_ALARM=gql`\nmutation setSharedAlarm($SGroup: Int!, $User: String!, $Alarm: float8!) {\n  update_share_by_pk(pk_columns: {SGroup: $SGroup, User: $User}, _set: {Alarm: $Alarm}) {\n    Alarm\n  }\n}\n\n`\n\nfunction colorOptions(pos){\n  return {backgroundColor: [\n    colors[pos]\n  ],\n  borderColor: [\n    colors[pos]\n  ]}\n}\n\nfunction Alarm(props){\n  const [alarm, setAlarm] = useState(props.alarm)\n  const [setOwnedAlarm] = useMutation(SET_OWNED_ALARM);\n  const [setSharedAlarm] = useMutation(SET_SHARED_ALARM);\n\n  const clear = () =>{\n    setAlarm(\"\");\n    saveAlarm(\"\");\n  }\n  const handleChange = (e) =>{\n    setAlarm(e.target.value)\n    saveAlarm(e.target.value)\n  }\n  const saveAlarm=(alarm)=>{\n    let toSave = alarm;\n    if(alarm===\"\") toSave=null;\n\n    if(props.owned){\n      setOwnedAlarm({variables:{SGroup:props.SGroupID, Alarm:toSave}})\n    }else{\n      setSharedAlarm({variables:{SGroup:props.SGroupID, Alarm:toSave, User:props.user.sub}})\n    }\n  }\n  return(\n      <>\n        <TextField\n          label=\"Temperature alarm\"\n          type=\"number\"\n          inputProps={{ min: \"12\", max: \"30\", step: \".1\" }} \n          InputLabelProps={{shrink: true}}\n          value = {alarm}\n          onChange = {handleChange}\n        />\n        <Button onClick={clear}>Clear</Button>\n      </>\n  )\n}\n\nfunction AvgPlot(props) {\n  let chartJSData = {\n    labels: [],\n    datasets: []\n  };\n\n  let count = 0\n  props.sensors.forEach((sensor, idx) => {\n    if ([\"sig\", \"dev\", \"ver\", \"mod\", \"adc\", \"bat\", \"time\"].includes(sensor.Type)) return;\n    const pos = sensor.Correction_Sensorpositions.pos ?? count;\n    let ds = {\n      label: \"temp\" + pos,\n      data: [],\n      ... colorOptions(pos)\n    };\n    sensor.Daily.forEach((item) => {\n      const humanReadableTime = moment(item.date_trunc);\n      if (!count) chartJSData.labels.push(humanReadableTime);\n      ds.data.push(item.max);\n    })\n    chartJSData.datasets.push(ds);\n    count = count +1 \n  });\n\n  return (\n    <Line\n      data={chartJSData}\n      options={{\n        maintainAspectRatio: false,\n        normalized: true,\n        elements: { point: { radius: 0 } },\n        scales: {\n          x: { type: 'time' },\n          y: { type: 'linear' }\n        },\n        plugins:{\n          zoom:zoomOptions\n        }\n      }}\n    />\n  );\n}\n\nfunction BatPlot(props) {\n  let chartJSData = {\n    labels: [],\n    datasets: []\n  };\n\n  props.sensors.forEach((sensor, idx) => {\n    if (sensor.Type !== \"v_bat\") return;\n    let ds = {\n      label: \"bat\",\n      data: []\n    };\n    sensor.Daily.forEach((item) => {\n      const humanReadableTime = moment(item.date_trunc);\n      chartJSData.labels.push(humanReadableTime);\n      ds.data.push(item.max);\n    })\n    chartJSData.datasets.push(ds);\n  });\n\n  return (\n    <Line\n      data={chartJSData}\n      options={{\n        normalized: true,\n        maintainAspectRatio: false,\n        elements: { point: { radius: 0 } },\n        scales: {\n          x: { type: 'time' },\n          y: { type: 'linear' }\n        }\n      }}\n    />\n  );\n}\n\nfunction FullPlot(props) {\n  let chartJSData = {\n    labels: [],\n    datasets: []\n  };\n  let count = 0\n  props.sensors.forEach((sensor, idx) => {\n    if ([\"sig\", \"dev\", \"ver\", \"mod\", \"adc\", \"bat\", \"time\"].includes(sensor.Type)) return;\n    const pos = sensor.Correction_Sensorpositions.pos ?? count;\n    let ds = {\n      label: \"temp\" + pos,\n      data: [],\n      ... colorOptions(pos)\n    };\n    if (sensor.Type === \"v_bat\") return;\n    sensor.Sensor_Values.forEach((item) => {\n      const humanReadableTime = moment(item.Timestamp);\n      if (!count) chartJSData.labels.push(humanReadableTime);\n      ds.data.push(item.Value);\n    })\n    chartJSData.datasets.push(ds);\n    count = count +1 \n  });\n\n  return (\n    <Line\n      data={chartJSData}\n      options={{\n        normalized: true,\n        maintainAspectRatio: false,\n        elements: { point: { radius: 0 } },\n        scales: {\n          x: { type: 'time' },\n          y: { type: 'linear' }\n        },\n        plugins:{\n          zoom:zoomOptions\n        }\n      }}\n    />\n  );\n}\n\n\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', margin: '20px', height: '60vh' }}>\n          {children}\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n","const publicVapidKey = 'BN1rZgnIUhURBJGNVVbLHUp2LMzfrKtPDfvP9QgNUzu1oBnFPLPLrOjKaNDry44Pzv0uD_YI4KAiqmQawoMHcr4';\n\nfunction urlBase64ToUint8Array(base64String) {\n    const padding = \"=\".repeat((4 - base64String.length % 4) % 4);\n    const base64 = (base64String + padding)\n        .replace(/-/g, \"+\")\n        .replace(/_/g, \"/\");\n    \n    const rawData = window.atob(base64);\n    const outputArray = new Uint8Array(rawData.length);\n    \n    for (let i = 0; i < rawData.length; ++i) {\n        outputArray[i] = rawData.charCodeAt(i);\n    }\n    return outputArray;\n} \n\nexport function subscribe(){\n    return navigator.serviceWorker.ready.then((sw)=>\n        sw.pushManager.getSubscription().then((sub)=>{\n            if(sub){return {sub:sub, new:false}}\n            return sw.pushManager.subscribe({\n                userVisibleOnly: true,\n                //public vapid key\n                applicationServerKey: urlBase64ToUint8Array(publicVapidKey)\n            }).then((sub)=>({sub:sub, new:true}));\n        })\n    )\n}","import React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport \"../assets/profile.css\";\nimport {subscribe} from \"../util/pushSubscription\";\nimport { useMutation, gql } from \"@apollo/client\";\n\n\nconst SUB_MUTATION = gql`\nmutation setSub($sub: jsonb!, $user: String!) {\n  update_Users_by_pk(pk_columns: {user_id: $user}, _append: {subscriptions: $sub}) {\n    user_id\n  }\n}\n`\n\nconst Profile = () => {\n  const { user, isAuthenticated} = useAuth0();\n  const [subMutate] = useMutation(SUB_MUTATION);\n\n  subscribe().then((sub)=>{\n    console.log(\"Sub:\", sub);\n    if(sub.new){\n      subMutate({variables: {sub:sub.sub, user:user.sub}});\n    }\n  });\n\n  return (\n    isAuthenticated && (\n      <div className=\"profile-container\">\n        <img src={user.picture} alt={user.name} className=\"profile-picture\"/>\n        <h2>{user.name}</h2>\n        <p>{user.email}</p>\n      </div>\n    )\n  );\n};\n\nexport default Profile;","import React, { Component } from 'react';\nimport Overview from './components/Overview';\nimport Details from \"./components/Details\";\nimport Profile from './components/Profile';\nimport {\n  Switch,\n  Route\n} from \"react-router-dom\";\n\n\nclass App extends Component {\n  render() {\n    return (\n      <Switch>\n        <Route path=\"/details/:SGroupID\">\n          <Details/>\n        </Route>\n        <Route path=\"/profile\">\n          <Profile/>\n        </Route>\n        <Route path=\"/\">\n          <Overview/>\n        </Route>\n      </Switch>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport {CircularProgress} from \"@mui/material\";\n\nexport default function Loading(){\n  return <CircularProgress color=\"inherit\" />\n}","import React, {useState} from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport {Button} from \"@mui/material\";\nimport Loading from './Loading';\n\nfunction LoginButton(){\n  const [clicked, setClicked] = useState(false);\n  const { loginWithRedirect } = useAuth0();\n\n  const handleClick = () =>{\n    setClicked(true);\n    loginWithRedirect();\n  }\n  if(clicked) return <Loading/>\n  return <Button color=\"inherit\" onClick={handleClick}>Log In</Button>;\n};\n\nexport default LoginButton;","import React from \"react\";\nimport {IconButton, Menu, MenuItem, Avatar} from '@mui/material';\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { withRouter } from 'react-router-dom';\n\nfunction ProfileButton(props) {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const {logout} = useAuth0();\n    \n    const handleMenu = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    return (\n        <div>\n            <IconButton\n                size=\"large\"\n                aria-label=\"account of current user\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleMenu}\n                color=\"inherit\"\n            >\n                <Avatar sx={{ width: 24, height: 24 }} alt=\"Avatar\" src={props.user.picture} />\n            </IconButton>\n            <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right',\n                }}\n                keepMounted\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right',\n                }}\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            >\n                <MenuItem onClick={() => props.history.push('/profile')}>Profile</MenuItem>\n                <MenuItem onClick={()=>{logout({ returnTo: window.location.origin })}}>Logout</MenuItem>\n            </Menu>\n        </div>\n    );\n}\n\nexport default withRouter(ProfileButton);","import React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport LoginButton from \"./LoginButton\";\nimport ProfileButton from \"./ProfileButton\";\nimport {Link} from 'react-router-dom';\n\nimport { AppBar, Toolbar, Typography} from '@mui/material';\n\nfunction Header() {\n    const { user, isAuthenticated, isLoading } = useAuth0();\n    return(\n        <AppBar position=\"static\" >\n            <Toolbar>\n                <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n                    <Link to=\"/\">\n                        Aspargis\n                    </Link>\n                </Typography>\n                {isLoading ? null : isAuthenticated ? <ProfileButton user={user}/> : <LoginButton />}\n            </Toolbar>\n        </AppBar>\n    );\n};\n\nexport default Header;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Auth0Provider } from \"@auth0/auth0-react\";\nimport AuthApolloProvider from './auth/AuthApolloProvider';\nimport * as serviceWorkerRegistration from './util/serviceWorkerRegistration';\nimport reportWebVitals from './util/reportWebVitals';\nimport App from \"./App\";\nimport Header from \"./components/Header\";\n\nimport {BrowserRouter as Router} from \"react-router-dom\";\n\n\nReactDOM.render(\n  (\n    <Auth0Provider\n      domain=\"dev-leodorh9.us.auth0.com\"\n      clientId=\"VPe92gUMGhq9WHnHljMB6p0OIN0pf2bA\"\n      redirectUri={window.location.origin}\n      audience=\"https://aspargis.de\"\n      scope=\"read:current_user update:current_user_metadata\"\n    >\n      <Router>\n        <Header/>\n        <AuthApolloProvider><App/></AuthApolloProvider>\n      </Router>\n    </Auth0Provider>\n  ),\n  document.getElementById('root')\n);\n\nserviceWorkerRegistration.register();  \nreportWebVitals();"],"sourceRoot":""}